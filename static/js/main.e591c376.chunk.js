(this["webpackJsonpve-frontend"]=this["webpackJsonpve-frontend"]||[]).push([[0],{54:function(e,t,n){e.exports=n(82)},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(15),r=n.n(c),i=n(24),l=n(12),s=n(32),u=n(98),d=Object(u.a)((function(e){return{root:Object(s.a)(Object(s.a)({},e.typography.h6),{},{margin:"4px 0px",padding:"2px 3px",boxSizing:"border-box",border:"1px solid none",borderRadius:e.shape.borderRadius,userSelect:"none"}),clicked:{color:e.palette.primary.main},deleted:{color:"lightgrey",textDecoration:"line-through"},synced:{backgroundColor:e.palette.secondary.main,color:"white",borderColor:"red"}}}));var m=function(e){var t=e.value,n=e.st,a=e.et,c=e.playPoint,r=e.onClick,i=e.include,l=e.onKeyDown,s=e.contentType,u=e.onMouseDown,m=e.onMouseUp,p=e.onMouseEnter,f=e.wordData,h=e.selectedWord,b=d(),g=b.root;return h.includes(f)?g="".concat(b.root," ").concat(b.clicked):!1===i?g="".concat(b.root," ").concat(b.deleted):c>=n&&c<a&&(g="".concat(b.root," ").concat(b.synced)),"punctuation"===s?o.a.createElement("div",{className:"d-flex flex-column justify-content-center"},o.a.createElement("span",null,t)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:g,onClick:r,onKeyDown:l,tabIndex:0,onMouseDown:u,onMouseUp:m,onMouseEnter:p},t))},p=n(43),f=n.n(p),h=n(103),b=n(106),g=n(105),v=n(100),E=n(104),w=n(107),x=n(18),O=n(108),j=n(99),y=n(102),k=n(7),C=n(101),S=n(45),D=n.n(S),B=n(44),I=n.n(B),M=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(x.a)({flexGrow:1,display:"none"},e.breakpoints.up("xs"),{display:"block"}),search:Object(x.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(x.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),buttonBox:{flexGrow:1,display:"flex",flexDirection:"row-reverse"},exportButton:{marginRight:e.spacing(2),marginLeft:e.spacing(2)},IconButton:{}}}));function _(e){var t=e.clickUndo,n=e.clickDelete,a=e.selectedWord,c=M();return o.a.createElement("div",{className:c.root},o.a.createElement(O.a,{position:"static"},o.a.createElement(j.a,{variant:"dense"},o.a.createElement(v.a,{className:c.title,variant:"h6",noWrap:!0},"Captain JumpCut"),o.a.createElement(b.a,{className:c.buttonBox},o.a.createElement(C.a,{className:c.exportButton,variant:"contained",color:"secondary"},"Export"),o.a.createElement(y.a,{className:c.IconButton,onClick:n,color:"default",disabled:0===a.length||!1===a[0].include},o.a.createElement(I.a,null)),o.a.createElement(y.a,{className:c.IconButton,onClick:t,disabled:0===a.length||!0===a[0].include},o.a.createElement(D.a,null))))))}var N=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),u=Object(l.a)(s,2),d=u[0],p=u[1],x=Object(a.useState)(!1),O=Object(l.a)(x,2),j=O[0],y=(O[1],Object(a.useState)([])),k=Object(l.a)(y,2),C=k[0],S=k[1],D=Object(a.useState)(0),B=Object(l.a)(D,2),I=B[0],M=B[1],N=Object(a.useState)(!0),R=Object(l.a)(N,2),W=R[0],U=R[1],L=Object(a.useState)(!1),P=Object(l.a)(L,2),T=P[0],z=P[1],G=Object(a.useState)([]),J=Object(l.a)(G,2),K=J[0],F=J[1],$=Object(a.useState)("https://inputvid.s3.us-east-2.amazonaws.com/1mintedtalk.mp4"),q=Object(l.a)($,2),A=q[0];q[1],Object(a.useEffect)((function(){fetch("https://transcriptionfornick.s3.us-east-2.amazonaws.com/asrOutput.json").then((function(e){return e.json()})).then((function(e){return p(e.results.items.map((function(e){return e.include=!0,e})))}))}),[]);var H=function(){var e=d.filter((function(e){return"punctuation"!==e.type}));e.forEach((function(e,t){return e.index=parseInt(t)}));var t=[],n=[(e=e.filter((function(e){return!0===e.include})))[0].start_time];try{for(var a=0;a<e.length-1;a++)if(e[a].index+1!==e[a+1].index)n.push(e[a].end_time),t.push(n),n=[e[a+1].start_time];else if(e[a].index+1===e[a+1].index)continue}finally{n.push(e[e.length-1].end_time),t.push(n)}S(t),console.log("timeBlockLocal set")},Q=function(t){z(!1),function(t){e.current.seekTo(t.start_time),r(t.start_time)}(t)},V=function(){for(var e=Object(i.a)(d),t=0;t<K.length;t++){e[d.indexOf(K[t])].include=!1,p(e),F([])}H()};Object(a.useEffect)((function(){W&&X()}),[c]);var X=function(){if(C.length>0)for(var t=1;t<C.length;t++)c>=C[t-1][0]&&c<C[t][0]&&(M(t-1),c>C[I][1]-.1&&c<C[I+1][0]&&e.current.seekTo(C[I+1][0]))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,null),o.a.createElement(_,{clickDelete:V,clickUndo:function(){console.log("clickedUndo");for(var e=Object(i.a)(d),t=0;t<K.length;t++){e[d.indexOf(K[t])].include=!0,p(e),F([])}H()},selectedWord:K}),o.a.createElement(E.a,{maxwidth:"lg"},o.a.createElement(b.a,{mt:4,overflow:"hidden",height:"85vh"},o.a.createElement(g.a,{container:!0,direction:"row",spacing:4},o.a.createElement(g.a,{item:!0,md:6,xs:12},o.a.createElement(b.a,null,o.a.createElement(f.a,{ref:e,url:A,controls:!0,progressInterval:10,onProgress:function(e){r(e.playedSeconds)},playing:j,height:"100%",width:"100%"})),o.a.createElement(b.a,{display:"flex",alignItems:"center"},o.a.createElement(w.a,{variant:"contained",color:"primary",onChange:function(){W?U(!1):(U(!0),X())},checked:!!W}),o.a.createElement(v.a,{variant:"body1"},"Preview Edits"))),o.a.createElement(g.a,{item:!0,md:6,xs:12},o.a.createElement(g.a,{container:!0,direction:"row"},o.a.createElement(b.a,{mt:-1,display:"flex",flexWrap:"wrap",overflow:"auto",direction:"row",height:"80vh"},d.map((function(e){return o.a.createElement(m,{key:e.alternatives[0].content+e.start_time+d.indexOf(e),value:e.alternatives[0].content,st:e.start_time,et:e.end_time,contentType:e.type,include:e.include,playPoint:c,onKeyDown:function(e){return function(e,t){8===e.keyCode&&V()}(e)},onMouseUp:function(){return Q(e)},onMouseDown:function(t){return function(e,t){z(!0);var n=Object(i.a)(K);0!==K.length?F([]):K.includes(t)?(n.splice(n.indexOf(t),1),F(n)):(n.push(t),F(n))}(0,e)},onMouseEnter:function(t){return function(e,t){if(T){var n=Object(i.a)(K);if(K.includes(t))return;n.push(t),F(n),console.log(K)}}(0,e)},wordData:e,selectedWord:K})})))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(81);r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.e591c376.chunk.js.map